<div class="main-page" [ngClass]="(loaded)? 'loaded' : ''">
  <!-- <slider [sliderConfig]="mainPageSliderConfig" *ngIf="isBrowser && arraySlides.length"></slider> -->

  <div class="slider">
    <div class="slider__wrapper">
      <div class="slide">
        <div class="slider__item-left">
          <div class="slider__info">
            <h1 class="caption caption-green">DARI-COSMETICS</h1>
            <p class="caption">ДАРИМ СЧАСТЬЕ ЕСТЕСТВЕННОЙ КРАСОТЫ</p>
            <p class="subcaption">Smart Balance</p>
          </div>
          <div class="slider__manage">
            <div class="slider__item-btns">
              <div class="btn btn__more" (click)="openPage('care-program')">Подробнее</div>
              <div class="btn btn__to-catalog" (click)="openPage('catalog')"> В каталог</div>
            </div>
            <div class="slider__item-btns mobile">
              <div class="btn btn__to-catalog" (click)="openPage('catalog')">В каталог</div>
            </div>
            <!-- <div class="slider__indicator">
              <div class="slider__indicator-item" *ngFor="let ind of indicators; let k = index" [ngClass]="(k == i)? 'active' : ''"></div>
            </div>         -->
          </div>
        </div>
        <picture>
          <source data-srcset="/assets/123.webp" media="(max-width: 600px)" type="image/webp">
          <source data-srcset="/assets/123.jpg" media="(max-width: 600px)">
          <img data-src="/assets/slide1.jpg" class="slide-img lazyload">
        </picture>
      </div>
    </div>
  </div>

  <div class="programs">
    <div class="programs__list">
       <!--<div>-->
      <div class="programs__content"> 
        <div class="programs__item programs__complex" (click)="openPage('care-program')">
          <div class="programs__img">
            <picture>
              <source data-srcset="/assets/care-program-main.webp" type="image/webp" class="lazyload">
              <img data-src="/assets/care-program-main.jpg" class="lazyload">
            </picture>            
          </div>
          <h3 class="programs__caption">
            Выбери свою программу ухода
          </h3>
          <div class="programs__text">
            Индивидуальные комплексные программы для твоей кожи
          </div>
        </div>
        <div class="programs__item programs__business">
          <div class="programs__img">
            <picture>
              <source data-srcset="/assets/promo-banner.webp" type="image/webp" class="lazyload">
              <img data-src="/assets/promo-banner.jpg" class="lazyload">
            </picture>            
          </div>
          <h3 class="programs__caption">
            ТЕКУЩИЕ АКЦИИ
          </h3>
          <div class="programs__link programs__link-main" (click)="openPage('promo')">
            Подробнее
          </div>
        </div>
      </div>       
  <!--       </div>-->
    </div>

  </div>

  <div class="common-caption">
    <h3>
      Выберите раздел
    </h3>
    <hr>
  </div>

  <div class="categories">
    <div class="categories__inner">
      <div class="categories__item categories__item-{{i}}" *ngFor="let category of categories; let i = index" (click)="openCatalog(category.slug)">
        <div class="categories__img" *ngIf="i != 4">
          <picture>
            <source data-srcset="{{category.header_image}}" type="image/webp" class="lazyload">
            <img data-src="{{category.image}}" class="lazyload">
          </picture>          
        </div>
        <div class="categories__img" *ngIf="i == 4">
          <picture>
            <source data-srcset="/assets/body-rotate.webp" media="(max-width: 639px)" type="image/webp" class="lazyload">
            <source data-srcset="/assets/body-rotate.jpg" media="(max-width: 639px)" class="lazyload">
            <source data-srcset="{{category.header_image}}" type="image/webp" class="lazyload">
            <img data-src="{{category.image}}" class="lazyload">
          </picture>
        </div>
        <div class="categories__link">
          <h2>{{category.name}}</h2>
          <mat-icon svgIcon="shape"></mat-icon>
        </div>
      </div>      
    </div>
  </div>

  <div class="common-caption">
    <h3>
      Отзывы
    </h3>
    <hr>
  </div>

  <slider [sliderConfig]="commentsSliderConfig" *ngIf="isBrowser && comments.length"></slider>

  <div class="consult" #consultForm>
    <div class="consult__form">
      <div class="consult__form-left">
        <h3 style="color: white;">Индивидуальная консультация</h3>
        <p>Заполните форму, и наш специалист (косметолог) свяжется с Вами:</p>
        <div class="btn__mobile">
          <div class="btn btn__call" (click)="openPopupConsult()">Заказать звонок</div>
          <div class="messengers mobile">
            <span>Или пишите</span>
            <!-- <a class="messengers__icon" href="https://vk.me/club43817012"><mat-icon svgIcon="vk_message"></mat-icon></a> -->
            <a class="messengers__icon" href="https://wa.me/79033668260"><mat-icon svgIcon="whatsapp"></mat-icon></a>
            <!-- <a class="messengers__icon" href="viber://chat?number=79033668260"><mat-icon svgIcon="viber"></mat-icon></a> -->
          </div> 
        </div>       
        <div class="consult__form-data">
          <input type="text" placeholder="Ваше имя" [(ngModel)]="username" required>
          <input type="phone" placeholder="+7(900)123-45-67" [(ngModel)]="userphone" phoneMask required>
          <div class="agree">
            <div class="check" (click)="agree = !agree" [ngClass]="(agree)? 'active' : ''"></div>
            <div class="text" (click)="openDoc()">Я даю свое согласие на обработку персональных данных</div>
          </div>
          <!-- <label class="agree"><input type="checkbox"> </label>  -->
          <div class="btns">
            <div class="btn btn__call" [ngClass]="{'disable': !agree}" (click)="sendMessage()">Заказать звонок</div>
            <div class="messengers">
              <span>Или пишите</span>
              <!-- <a class="messengers__icon" href="https://vk.me/club43817012"><mat-icon svgIcon="vk_message"></mat-icon></a> -->
              <a class="messengers__icon" href="https://wa.me/79033668260"><mat-icon svgIcon="whatsapp"></mat-icon></a>
              <!-- <a class="messengers__icon" href="viber://chat?number=79033668260"><mat-icon svgIcon="viber"></mat-icon></a> -->
            </div>
          </div>
        </div>
      </div>
      <div class="consult__form-right">
        <picture>
          <source data-srcset="/assets/face2.webp" type="image/webp">
          <img data-src="/assets/face2.jpg" class="lazyload">
        </picture>        
      </div>
    </div>
  </div>

  <div class="common-caption">
    <h3 style="padding-bottom: 25px;">
      Следите за обновлениями
    </h3>
    <hr>
  </div>

  <div class="updates">
    <div class="subcaption">
      Подпишитесь на нас в <b>Instagram @daricosmetics,</b>
      чтобы не пропустить актуальные новости компании, акции и новинки:
    </div>
    <div class="updates__content">
      <div class="updates__btns">
        <div class="btn subscribe" (click)="openInst()">Подписаться
          <div class="social__item inst">
            <mat-icon svgIcon="instagram"></mat-icon>
          </div>          
        </div>
        <div class="social">
          <div class="social__item vk" (click)="openVK()">
            <mat-icon svgIcon="vk"></mat-icon>
          </div>
          <div class="social__item fb" (click)="openFB()">
            <mat-icon svgIcon="fb"></mat-icon>
          </div>
          <div class="arrow">
            <mat-icon svgIcon="arrowShare"></mat-icon>
          </div>
        </div>
      </div>
      <div class="updates__imgs">
        <instafeed></instafeed>
      </div>
    </div>
  </div>
</div>